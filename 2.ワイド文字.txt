#include <stdio.h>
#include <locale.h>
#include <wchar.h>

int main(void) {
    setlocale(LC_ALL, "");
    wprintf(L"こんにちは！");

    return 0;
}

printf関数はWindowsでは出力先のコンソールの文字コードがShift_JISのため、UTF-8で書かれたソースコードの文字列リテラルを出力しようとすると文字コードの違いにより正常に表示できません。
そのため、UTF-8で書かれた文字列リテラルをコンパイル時にUTF-16へ変換し、それを実行時にShift_JISへと変換して表示するwprintf関数を使用します。
※文字列リテラルとは、ソースコード中に出てくる""で囲まれた部分のことです。
また、wprintf関数が受け取る文字列リテラルは「ワイド文字列」と言い、通常の""で囲まれた文字列リテラルとは違いL""で囲まれたもの言います。この部分のみがコンパイル時にUTF-16に変換されます。